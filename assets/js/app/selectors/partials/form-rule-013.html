<div class="col col-sm-offset-3">
    <div class="alert alert-info">
        <small>* 保留的描述信息</small>
    </div>
</div>

<div class="form-group" ng-class="{'has-error' : errors.rule_name}">
    <label class="col-sm-4 control-label">Rule Name <br><!-- <em><small class="help-block">optional</small></em> --></label>
    <div class="col-sm-7">
        <input ng-model="rule.rule_name" class="form-control">
        <div class="text-danger" ng-if="errors.rule_name" data-ng-bind="errors.rule_name"></div>
        <p class="help-block">The rule name.</p>
    </div>
</div>

<div class="form-group">
    <label class="col-sm-4 control-label">Condition Type <br><!-- <em><small class="help-block">optional</small></em> --></label>
    <div class="col-sm-7">
        <select ng-model="rule.type" ng-change="selectConditionType()" class="form-control" ng-options="ctype.type as ctype.name for ctype in ctypes">
        <option value="">--Please Select--</option>
        </select>
    </div>
</div>

<div class="form-group">
    <table class= "table">
            <tr>
                <th width="1"></th>
                <th>Rule Name</th>
                <th>Conditon Type</th>
                <th>Upstream Name</th>
<!--                 <th width="1" ng-if="true"></th>
                <th width="1" ng-if="true"></th> -->

            </tr>
            </tr>
            <tr  ng-repeat="condition in rule.conditions">
                <td>
                    <raw-view data-item="condition"></raw-view>
                </td>
                <td>
                    {{condition.type || "-"}}
                </td>
                <td>
                    {{condition.name || "-"}}
                </td>
                <td>
                    {{condition.operator || "-"}}
                </td>
           <!--      <td ng-if="true">
                    <a class="clickable btn btn-link btn-warning" data-ui-sref="routes.read({route_id:item.id})">
                        <i class="mdi mdi-pencil"></i>
                        edit
                    </a>
                </td> -->
<!--                 <td ng-if="true">
                    <button class="btn btn-link btn-danger" ng-click="deleteRoute(item)">
                        <i class="mdi mdi-delete"></i>
                        delete
                    </button>
                </td> -->
            </tr>
            <tr data-ng-if="conditions.length == 0">
                <td colspan="100%" class="text-center text-muted">
                    <em>no data found...</em>
                </td>
            </tr>
        </table>
</div>

    <div class="form-group">
        <button class="btn btn-sm btn-primary btn-link pull-right" data-ng-click="onAddCondition()">
                <i class="mdi mdi-plus"></i>
                Add Condition
        </button>
    </div>

<div class="form-group" ng-class="{'has-error' : errors.upstream_name}">
    <label class="col-sm-4 control-label">Upstream Name <br><!-- <em><small class="help-block">optional</small></em> --></label>
    <div class="col-sm-7">
        <input ng-model="rule.upstream_name" class="form-control">
        <div class="text-danger" ng-if="errors.upstream_name" data-ng-bind="errors.upstream_name"></div>
        <p class="help-block">The upstream  name.</p>
    </div>
</div>